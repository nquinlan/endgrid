!function(t){t.fn.track=function(e){var n={additional:[],dictionary:[],options:{forms:!0,outbound:!0,email:!0,phone:!0,anchor:!0,universal:!1,debug:!1}},a=t.extend(!0,{},n,e);t.expr[":"].external=function(t){return!t.href.match(/^mailto:/)&&!t.href.match(/^tel:/)&&!t.href.match(/^#/)&&t.hostname.replace(/^www\./i,"")!=document.location.hostname.replace(/^www\./i,"")};var r=function(t,e){for(var e="object"==typeof e?e:["data-track-everything-name","name","title","id"],n=null,a=0;a<=e.length-1;a++){var r=t.attr(e[a]);if(r&&r.length){n=r;break}}return n},i=function(t){if(a.options.debug&&console.log(t),a.options.universal){var e={hitType:"event",eventCategory:t[1],eventAction:t[2]};t[3]&&(e.eventLabel=t[3]),t[4]&&(e.eventValue=t[4]),t[5]&&(e.nonInteraction=Number(t[4]));try{ga("send",e)}catch(n){a.options.debug&&console.log("Google Analytics must be installed and initiated for Track Everything to work")}}else try{_gaq.push(t)}catch(n){a.options.debug&&console.log("Google Analytics must be installed and initiated for Track Everything to work")}},o=function(e,n,o){var c=t(e).find('a[href^="'+n+'"]');c.on("click.track-everything.track-everything-default keypress.track-everything.track-everything-default",function(){var e=r(t(this),["data-track-everything-name","href"]),a=t(this).attr("href");e==a&&(e=a.substring(n.length));var c=["_trackEvent","Link",o,e];i(c)}),a.options.debug&&c.addClass("track-everything track-everything-default track-everything-"+o.toLowerCase())};return this.each(function(){for(var e=a.dictionary.length-1;e>=0;e--)t(this).find(a.dictionary[e].selector).attr("data-track-everything-name",a.dictionary[e].name);if(a.options.forms){var n=t(this).find("form");n.on("submit.track-everything.track-everything-default",function(){var e=r(t(this)),n=["_trackEvent","Form","Submission"];null!==e&&n.push(e),i(n)}),a.options.debug&&n.addClass("track-everything track-everything-default track-everything-form")}if(a.options.outbound){var c=t(this).find("a:external");c.on("click.track-everything.track-everything-default keypress.track-everything.track-everything-default",function(){var e=r(t(this),["data-track-everything-name","href"]),n=["_trackEvent","Link","Outbound",e,null,!0];i(n)}),a.options.debug&&c.addClass("track-everything track-everything-default track-everything-outbound")}a.options.email&&o(this,"mailto:","Email"),a.options.phone&&o(this,"tel:","Phone"),a.options.anchor&&o(this,"#","Anchor");var h=this;t.each(a.additional,function(e,n){var o=t(h).find(n.selector);o.off(".track-everything-default"),a.options.debug&&o.addClass("track-everything track-everything-additional").removeClass("track-everything-default");for(var c=[],s=n.events.length-1;s>=0;s--)c.push(n.events[s]+".track-everything.track-everything-additional");o.on(c.join(" "),function(){n.name.length&&t(this).attr("data-track-everything-override",n.name);var e=r(t(this),["data-track-everything-override","data-track-everything-name","name","title","id","href"]),a=["_trackEvent",n.category,n.action,e];i(a)})})})}}(jQuery);